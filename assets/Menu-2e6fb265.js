import{r,j as e,c as m,u as g,L as f,a as j,b as v,P as N,A as y,H as w}from"./index-f887811f.js";const b="_input_1e1bp_1",k="_icon_1e1bp_18",o={input:b,"input-wrapper":"_input-wrapper_1e1bp_14",icon:k},F=r.forwardRef(function({isValid:t=!0,className:n,...i},d){return e.jsxs("div",{className:o["input-wrapper"],children:[e.jsx("input",{ref:d,className:m(o.input,n,{[o.invalid]:t}),...i}),e.jsx("img",{className:o.icon,src:"/search-icon.svg",alt:"Иконка лупы"})]})}),$="_head_12z56_1",E={head:$},L="_head_6efxi_1",S="_card_6efxi_7",I="_footer_6efxi_14",P="_title_6efxi_18",A="_description_6efxi_26",C="_link_6efxi_34",M="_price_6efxi_38",R="_currency_6efxi_52",D="_rating_6efxi_56",a={head:L,card:S,footer:I,title:P,description:A,link:C,price:M,currency:R,rating:D,"add-to-cart":"_add-to-cart_6efxi_71"};function H(s){const t=g(),n=i=>{i.preventDefault(),t(j.add(s.id))};return e.jsx(f,{to:`/product/${s.id}`,className:a.link,children:e.jsxs("div",{className:a.card,children:[e.jsxs("div",{className:a.head,style:{backgroundImage:`url('${s.image}')`},children:[e.jsxs("div",{className:a.price,children:[s.price," ",e.jsx("span",{className:a.currency,children:"₽"})]}),e.jsx("button",{className:a["add-to-cart"],onClick:n,children:e.jsx("img",{src:"/cart-button-icon.svg",alt:"Добавить в корзину"})}),e.jsxs("div",{className:a.rating,children:[s.rating," ",e.jsx("img",{src:"/star-icon.svg",alt:"Иконка звезды"})]})]}),e.jsxs("div",{className:a.footer,children:[e.jsx("div",{className:a.title,children:s.name}),e.jsx("div",{className:a.description,children:s.description})]})]})})}const z="_wrapper_7fxue_1",X={wrapper:z};function q({products:s}){return e.jsx("div",{className:X.wrapper,children:s.map(t=>e.jsx(H,{id:t.id,name:t.name,description:t.ingredients.join(", "),rating:t.rating,price:t.price,image:t.image},t.id))})}function G(){const[s,t]=r.useState([]),[n,i]=r.useState(!1),[d,_]=r.useState(),[u,x]=r.useState();r.useEffect(()=>{h(u)},[u]);const h=async l=>{try{i(!0);const{data:c}=await v.get(`${N}/products`,{params:{name:l}});t(c),i(!1)}catch(c){console.error(c),c instanceof y&&_(c.message),i(!1);return}},p=l=>{x(l.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:E.head,children:[e.jsx(w,{children:"Меню"}),e.jsx(F,{placeholder:"Введите блюдо или состав",onChange:p})]}),e.jsxs("div",{children:[d&&e.jsx(e.Fragment,{children:d}),!n&&s.length>0&&e.jsx(q,{products:s}),n&&e.jsx(e.Fragment,{children:"Загружаем продукты..."}),!n&&s.length===0&&e.jsx(e.Fragment,{children:"Не найдено блюд по запросу"})]})]})}export{G as Menu,G as default};
